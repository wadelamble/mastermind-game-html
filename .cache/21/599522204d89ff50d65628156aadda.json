{"id":"lKdS","dependencies":[{"name":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\package.json","includedInParent":true,"mtime":1599956635193},{"name":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\package.json","includedInParent":true,"mtime":1599520170888},{"name":"tslib","loc":{"line":3,"column":50},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\tslib\\tslib.es6.js"},{"name":"../policies/requestPolicy","loc":{"line":4,"column":34},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\requestPolicy.js"},{"name":"../util/constants","loc":{"line":5,"column":26},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\util\\constants.js"},{"name":"../httpHeaders","loc":{"line":6,"column":28},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\httpHeaders.js"},{"name":"../credentials/accessTokenCache","loc":{"line":7,"column":41},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\credentials\\accessTokenCache.js"},{"name":"../credentials/accessTokenRefresher","loc":{"line":8,"column":37},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\bearerTokenAuthenticationPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\credentials\\accessTokenRefresher.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bearerTokenAuthenticationPolicy=o,exports.BearerTokenAuthenticationPolicy=void 0;var e=require(\"tslib\"),t=require(\"../policies/requestPolicy\"),r=require(\"../util/constants\"),n=require(\"../httpHeaders\"),s=require(\"../credentials/accessTokenCache\"),i=require(\"../credentials/accessTokenRefresher\");function o(e,t){var r=new s.ExpiringAccessTokenCache,n=new i.AccessTokenRefresher(e,t,a);return{create:function(e,t){return new c(e,t,r,n)}}}var a=3e4,c=function(t){function s(e,r,n,s){var i=t.call(this,e,r)||this;return i.tokenCache=n,i.tokenRefresher=s,i}return(0,e.__extends)(s,t),s.prototype.sendRequest=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return t.headers||(t.headers=new n.HttpHeaders),[4,this.getToken({abortSignal:t.abortSignal,tracingOptions:{spanOptions:t.spanOptions}})];case 1:return s=e.sent(),t.headers.set(r.Constants.HeaderConstants.AUTHORIZATION,\"Bearer \"+s),[2,this._nextPolicy.sendRequest(t)]}})})},s.prototype.updateTokenIfNeeded=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return this.tokenRefresher.isReady()?[4,this.tokenRefresher.refresh(t)]:[3,2];case 1:r=e.sent(),this.tokenCache.setCachedToken(r),e.label=2;case 2:return[2]}})})},s.prototype.getToken=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var r;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return void 0!==(r=this.tokenCache.getCachedToken())?[3,2]:[4,this.tokenRefresher.refresh(t)];case 1:return r=e.sent(),this.tokenCache.setCachedToken(r),[3,3];case 2:this.updateTokenIfNeeded(t),e.label=3;case 3:return[2,r?r.token:void 0]}})})},s}(t.BaseRequestPolicy);exports.BearerTokenAuthenticationPolicy=c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":118}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":161}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":171}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":219}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":221}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":229}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":250}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":252}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":260}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":278}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":280}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":288}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":323}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":325}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":333}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":372}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":381}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":383}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":385}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":388}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":392}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":28,"column":39},"generated":{"line":1,"column":394}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":28,"column":43},"generated":{"line":1,"column":398}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":28,"column":39},"generated":{"line":1,"column":400}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":425}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":427}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":1,"column":431}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":433}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":454}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":456}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":458}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":461}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":467}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":1,"column":468}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":475}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":484}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":36,"column":40},"generated":{"line":1,"column":486}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":489}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":496}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":1,"column":500}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":49},"generated":{"line":1,"column":502}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":61},"generated":{"line":1,"column":504}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":70},"generated":{"line":1,"column":506}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":37,"column":82},"generated":{"line":1,"column":508}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":1,"column":513}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":517}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":47,"column":39},"generated":{"line":1,"column":519}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":523}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":525}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":534}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":537}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":546}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":548}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":550}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":552}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":1,"column":554}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":557}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":561}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":563}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":565}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":570}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":72,"column":10},"generated":{"line":1,"column":575}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":72,"column":22},"generated":{"line":1,"column":577}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":72,"column":30},"generated":{"line":1,"column":581}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":586}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":593}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":595}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":606}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":1,"column":608}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":1,"column":610}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":1,"column":625}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":627}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":117,"column":0},"generated":{"line":1,"column":629}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":636}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":638}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":640}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":651}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":653}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":79,"column":15},"generated":{"line":1,"column":656}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":79,"column":15},"generated":{"line":1,"column":658}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":79,"column":15},"generated":{"line":1,"column":668}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":680}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":79,"column":27},"generated":{"line":1,"column":689}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":692}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":699}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":701}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":703}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":714}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":724}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":731}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":733}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":744}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":748}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":750}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":757}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":759}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":761}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":774}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":779}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":788}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":791}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":798}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":800}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":807}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":812}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":814}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":9},"generated":{"line":1,"column":821}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":21},"generated":{"line":1,"column":823}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":30},"generated":{"line":1,"column":833}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":42},"generated":{"line":1,"column":835}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":52},"generated":{"line":1,"column":843}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":56},"generated":{"line":1,"column":847}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":80,"column":52},"generated":{"line":1,"column":849}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":862}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":863}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":24},"generated":{"line":1,"column":865}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":29},"generated":{"line":1,"column":870}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":38},"generated":{"line":1,"column":879}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":82,"column":6},"generated":{"line":1,"column":880}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":82,"column":19},"generated":{"line":1,"column":892}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":82,"column":31},"generated":{"line":1,"column":894}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":906}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":83,"column":22},"generated":{"line":1,"column":921}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":922}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":84,"column":21},"generated":{"line":1,"column":934}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":84,"column":33},"generated":{"line":1,"column":936}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":952}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":957}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":959}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":10},"generated":{"line":1,"column":966}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":968}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":970}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":1,"column":977}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":16},"generated":{"line":1,"column":979}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":24},"generated":{"line":1,"column":987}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":28},"generated":{"line":1,"column":991}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":38},"generated":{"line":1,"column":993}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":38},"generated":{"line":1,"column":1003}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":54},"generated":{"line":1,"column":1019}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":69},"generated":{"line":1,"column":1033}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":87,"column":79},"generated":{"line":1,"column":1043}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":1046}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":1047}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":1049}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":1,"column":1054}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":28},"generated":{"line":1,"column":1066}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":88,"column":40},"generated":{"line":1,"column":1078}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":1,"column":1088}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":1,"column":1090}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":1,"column":1100}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":94,"column":2},"generated":{"line":1,"column":1120}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":94,"column":36},"generated":{"line":1,"column":1129}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1132}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1139}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1141}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1143}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1154}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1164}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1171}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1173}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1184}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1188}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1190}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1197}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1199}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1201}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1214}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1219}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1228}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1231}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1238}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1240}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1247}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1252}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1254}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1261}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":13},"generated":{"line":1,"column":1266}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":28},"generated":{"line":1,"column":1281}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":1,"column":1291}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":1,"column":1292}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":32},"generated":{"line":1,"column":1294}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":37},"generated":{"line":1,"column":1299}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":52},"generated":{"line":1,"column":1314}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":60},"generated":{"line":1,"column":1322}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1326}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1327}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1329}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1332}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1337}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":12},"generated":{"line":1,"column":1339}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":1,"column":1341}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":1,"column":1343}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":97,"column":11},"generated":{"line":1,"column":1350}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":97,"column":11},"generated":{"line":1,"column":1355}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":97,"column":22},"generated":{"line":1,"column":1366}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":97,"column":37},"generated":{"line":1,"column":1381}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1384}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1386}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1392}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1394}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1399}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1401}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1407}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1408}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1417}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1419}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1429}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1438}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":101,"column":25},"generated":{"line":1,"column":1447}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1450}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1457}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1459}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1461}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1472}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1482}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1489}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1491}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1502}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1506}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1508}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1515}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1517}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1519}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1532}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1537}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1546}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1549}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1556}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1558}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1565}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1570}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1572}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":103,"column":24},"generated":{"line":1,"column":1584}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1589}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":102,"column":22},"generated":{"line":1,"column":1591}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":102,"column":27},"generated":{"line":1,"column":1596}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":102,"column":38},"generated":{"line":1,"column":1607}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1625}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1626}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1628}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1631}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1632}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":26},"generated":{"line":1,"column":1634}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":31},"generated":{"line":1,"column":1639}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":46},"generated":{"line":1,"column":1654}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":54},"generated":{"line":1,"column":1662}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1666}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1671}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1673}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1680}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1682}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1684}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":1691}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":1696}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":107,"column":22},"generated":{"line":1,"column":1707}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":107,"column":37},"generated":{"line":1,"column":1722}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1725}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1726}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1728}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1731}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1736}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":112,"column":11},"generated":{"line":1,"column":1738}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":112,"column":11},"generated":{"line":1,"column":1743}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":112,"column":31},"generated":{"line":1,"column":1763}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1766}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1768}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1774}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1776}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1781}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1783}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1789}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1790}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":11},"generated":{"line":1,"column":1792}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":25},"generated":{"line":1,"column":1794}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":37},"generated":{"line":1,"column":1796}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":115,"column":45},"generated":{"line":1,"column":1807}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":117,"column":0},"generated":{"line":1,"column":1816}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1818}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":1819}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1821}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1840}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1848}},{"source":"../../../src/policies/bearerTokenAuthenticationPolicy.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":1880}}],"sources":{"../../../src/policies/bearerTokenAuthenticationPolicy.ts":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { TokenCredential, GetTokenOptions } from \"@azure/core-auth\";\nimport {\n  BaseRequestPolicy,\n  RequestPolicy,\n  RequestPolicyOptions,\n  RequestPolicyFactory\n} from \"../policies/requestPolicy\";\nimport { Constants } from \"../util/constants\";\nimport { HttpOperationResponse } from \"../httpOperationResponse\";\nimport { HttpHeaders } from \"../httpHeaders\";\nimport { WebResourceLike } from \"../webResource\";\nimport { AccessTokenCache, ExpiringAccessTokenCache } from \"../credentials/accessTokenCache\";\nimport { AccessTokenRefresher } from \"../credentials/accessTokenRefresher\";\n\n/**\n * Creates a new BearerTokenAuthenticationPolicy factory.\n *\n * @param credential The TokenCredential implementation that can supply the bearer token.\n * @param scopes The scopes for which the bearer token applies.\n */\nexport function bearerTokenAuthenticationPolicy(\n  credential: TokenCredential,\n  scopes: string | string[]\n): RequestPolicyFactory {\n  const tokenCache: AccessTokenCache = new ExpiringAccessTokenCache();\n  const tokenRefresher = new AccessTokenRefresher(\n    credential,\n    scopes,\n    timeBetweenRefreshAttemptsInMs\n  );\n\n  return {\n    create: (nextPolicy: RequestPolicy, options: RequestPolicyOptions) => {\n      return new BearerTokenAuthenticationPolicy(nextPolicy, options, tokenCache, tokenRefresher);\n    }\n  };\n}\n\n/**\n * The automated token refresh will only start to happen at the\n * expiration date minus the value of timeBetweenRefreshAttemptsInMs,\n * which is by default 30 seconds.\n */\nconst timeBetweenRefreshAttemptsInMs = 30000;\n\n/**\n *\n * Provides a RequestPolicy that can request a token from a TokenCredential\n * implementation and then apply it to the Authorization header of a request\n * as a Bearer token.\n *\n */\nexport class BearerTokenAuthenticationPolicy extends BaseRequestPolicy {\n  /**\n   * Creates a new BearerTokenAuthenticationPolicy object.\n   *\n   * @param nextPolicy The next RequestPolicy in the request pipeline.\n   * @param options Options for this RequestPolicy.\n   * @param credential The TokenCredential implementation that can supply the bearer token.\n   * @param scopes The scopes for which the bearer token applies.\n   * @param tokenCache The cache for the most recent AccessToken returned from the TokenCredential.\n   */\n  constructor(\n    nextPolicy: RequestPolicy,\n    options: RequestPolicyOptions,\n    private tokenCache: AccessTokenCache,\n    private tokenRefresher: AccessTokenRefresher\n  ) {\n    super(nextPolicy, options);\n  }\n\n  /**\n   * Applies the Bearer token to the request through the Authorization header.\n   * @param webResource\n   */\n  public async sendRequest(webResource: WebResourceLike): Promise<HttpOperationResponse> {\n    if (!webResource.headers) webResource.headers = new HttpHeaders();\n    const token = await this.getToken({\n      abortSignal: webResource.abortSignal,\n      tracingOptions: {\n        spanOptions: webResource.spanOptions\n      }\n    });\n    webResource.headers.set(Constants.HeaderConstants.AUTHORIZATION, `Bearer ${token}`);\n    return this._nextPolicy.sendRequest(webResource);\n  }\n\n  /**\n   * Attempts a token update if any other time related conditionals have been reached based on the tokenRefresher class.\n   */\n  private async updateTokenIfNeeded(options: GetTokenOptions): Promise<void> {\n    if (this.tokenRefresher.isReady()) {\n      const accessToken = await this.tokenRefresher.refresh(options);\n      this.tokenCache.setCachedToken(accessToken);\n    }\n  }\n\n  private async getToken(options: GetTokenOptions): Promise<string | undefined> {\n    let accessToken = this.tokenCache.getCachedToken();\n    if (accessToken === undefined) {\n      // Waiting for the next refresh only if the cache is unable to retrieve the access token,\n      // which means that it has expired, or it has never been set.\n      accessToken = await this.tokenRefresher.refresh(options);\n      this.tokenCache.setCachedToken(accessToken);\n    } else {\n      // If we still have a cached access token,\n      // And any other time related conditionals have been reached based on the tokenRefresher class,\n      // then attempt to refresh without waiting.\n      this.updateTokenIfNeeded(options);\n    }\n\n    return accessToken ? accessToken.token : undefined;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"877163cb4c1cfabac5faf7084d70a5cd","cacheData":{"env":{}}}