{"id":"kEMe","dependencies":[{"name":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\throttlingRetryPolicy.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\package.json","includedInParent":true,"mtime":1602532043896},{"name":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\package.json","includedInParent":true,"mtime":1599520170888},{"name":"tslib","loc":{"line":3,"column":50},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\throttlingRetryPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\tslib\\tslib.es6.js"},{"name":"./requestPolicy","loc":{"line":4,"column":34},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\throttlingRetryPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\requestPolicy.js"},{"name":"../util/constants","loc":{"line":5,"column":26},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\throttlingRetryPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\util\\constants.js"},{"name":"../util/utils","loc":{"line":6,"column":22},"parent":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\policies\\throttlingRetryPolicy.js","resolved":"C:\\Users\\milesl25\\source\\repos\\mastermind-game-html\\node_modules\\@azure\\core-http\\es\\src\\util\\utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.throttlingRetryPolicy=o,exports.ThrottlingRetryPolicy=void 0;var e=require(\"tslib\"),t=require(\"./requestPolicy\"),r=require(\"../util/constants\"),n=require(\"../util/utils\"),s=r.Constants.HttpConstants.StatusCodes;function o(){return{create:function(e,t){return new i(e,t)}}}var i=function(t){function o(e,r,n){var s=t.call(this,e,r)||this;return s._handleResponse=n||s._defaultResponseHandler,s}return(0,e.__extends)(o,t),o.prototype.sendRequest=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,e.__generator)(this,function(e){return[2,this._nextPolicy.sendRequest(t.clone()).then(function(e){return e.status!==s.TooManyRequests?e:r._handleResponse(t,e)})]})})},o.prototype._defaultResponseHandler=function(t,s){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,u,a=this;return(0,e.__generator)(this,function(e){return(i=s.headers.get(r.Constants.HeaderConstants.RETRY_AFTER))&&(u=o.parseRetryAfterHeader(i))?[2,(0,n.delay)(u).then(function(e){return a._nextPolicy.sendRequest(t)})]:[2,s]})})},o.parseRetryAfterHeader=function(e){var t=Number(e);return Number.isNaN(t)?o.parseDateRetryAfterHeader(e):1e3*t},o.parseDateRetryAfterHeader=function(e){try{var t=Date.now(),r=Date.parse(e)-t;return Number.isNaN(r)?void 0:r}catch(n){return}},o}(t.BaseRequestPolicy);exports.ThrottlingRetryPolicy=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":137}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":141}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":143}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":151}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":160}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":162}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":170}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":189}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":191}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":199}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":222}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":230}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":19,"column":6},"generated":{"line":1,"column":247}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":19,"column":20},"generated":{"line":1,"column":249}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":19,"column":30},"generated":{"line":1,"column":251}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":19,"column":30},"generated":{"line":1,"column":261}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":19,"column":44},"generated":{"line":1,"column":275}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":287}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":296}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":300}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":306}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":307}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":314}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":323}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":23,"column":40},"generated":{"line":1,"column":325}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":328}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":335}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":339}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":24,"column":39},"generated":{"line":1,"column":341}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":24,"column":51},"generated":{"line":1,"column":343}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":348}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":352}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":354}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":363}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":366}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":375}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":377}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":379}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":1,"column":381}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":384}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":388}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":390}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":392}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":397}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":402}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":404}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":43,"column":30},"generated":{"line":1,"column":408}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":413}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":420}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":422}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":44,"column":27},"generated":{"line":1,"column":438}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":44,"column":46},"generated":{"line":1,"column":441}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":44,"column":51},"generated":{"line":1,"column":443}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":467}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":97,"column":0},"generated":{"line":1,"column":469}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":43},"generated":{"line":1,"column":476}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":43},"generated":{"line":1,"column":478}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":43},"generated":{"line":1,"column":480}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":43},"generated":{"line":1,"column":491}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":43},"generated":{"line":1,"column":493}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":1,"column":496}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":1,"column":498}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":1,"column":508}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":520}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":1,"column":529}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":532}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":539}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":541}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":543}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":554}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":564}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":571}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":573}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":584}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":588}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":590}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":595}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":602}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":604}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":606}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":619}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":624}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":633}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":636}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":642}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":643}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":645}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":650}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":28},"generated":{"line":1,"column":662}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":40},"generated":{"line":1,"column":674}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":52},"generated":{"line":1,"column":676}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":61},"generated":{"line":1,"column":685}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":66},"generated":{"line":1,"column":690}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":48,"column":67},"generated":{"line":1,"column":699}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":702}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":709}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":711}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":1,"column":720}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":49,"column":42},"generated":{"line":1,"column":722}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":738}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":740}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":742}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":52,"column":36},"generated":{"line":1,"column":758}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":52,"column":49},"generated":{"line":1,"column":760}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":771}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":773}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":783}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":807}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":816}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":818}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":821}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":828}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":830}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":832}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":843}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":853}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":860}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":862}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":873}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":877}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":879}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":881}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":883}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":888}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":895}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":897}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":899}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":912}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":917}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":926}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":929}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":936}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":61,"column":49},"generated":{"line":1,"column":938}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":61,"column":62},"generated":{"line":1,"column":940}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":61,"column":70},"generated":{"line":1,"column":948}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":952}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":954}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":964}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":62,"column":32},"generated":{"line":1,"column":980}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":1,"column":996}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":998}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":1000}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":1022}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1026}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1027}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":1030}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1032}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1034}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1041}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":32},"generated":{"line":1,"column":1044}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":37},"generated":{"line":1,"column":1049}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":38},"generated":{"line":1,"column":1058}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":49},"generated":{"line":1,"column":1061}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":49},"generated":{"line":1,"column":1068}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":54},"generated":{"line":1,"column":1070}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":66},"generated":{"line":1,"column":1082}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":70,"column":78},"generated":{"line":1,"column":1094}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":1100}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":1101}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1103}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":77,"column":16},"generated":{"line":1,"column":1111}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":77,"column":16},"generated":{"line":1,"column":1113}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":1,"column":1135}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":77,"column":38},"generated":{"line":1,"column":1144}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":78,"column":10},"generated":{"line":1,"column":1147}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":78,"column":10},"generated":{"line":1,"column":1151}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":78,"column":32},"generated":{"line":1,"column":1153}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":1,"column":1160}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":1163}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":1170}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":79,"column":15},"generated":{"line":1,"column":1177}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":79,"column":21},"generated":{"line":1,"column":1183}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":80,"column":13},"generated":{"line":1,"column":1186}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":80,"column":35},"generated":{"line":1,"column":1188}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":80,"column":61},"generated":{"line":1,"column":1214}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":82,"column":35},"generated":{"line":1,"column":1217}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":1,"column":1221}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":86,"column":16},"generated":{"line":1,"column":1224}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":86,"column":16},"generated":{"line":1,"column":1226}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1252}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":86,"column":42},"generated":{"line":1,"column":1261}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":1264}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":1268}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":1272}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":88,"column":26},"generated":{"line":1,"column":1274}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":88,"column":31},"generated":{"line":1,"column":1279}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":90,"column":12},"generated":{"line":1,"column":1285}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":89,"column":27},"generated":{"line":1,"column":1287}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":89,"column":32},"generated":{"line":1,"column":1292}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":89,"column":38},"generated":{"line":1,"column":1298}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":90,"column":26},"generated":{"line":1,"column":1301}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":1303}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":1310}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":1317}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":92,"column":26},"generated":{"line":1,"column":1323}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":92,"column":34},"generated":{"line":1,"column":1331}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":92,"column":46},"generated":{"line":1,"column":1333}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":1,"column":1335}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":1341}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":94,"column":13},"generated":{"line":1,"column":1344}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":97,"column":0},"generated":{"line":1,"column":1353}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":1355}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":43},"generated":{"line":1,"column":1356}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":1358}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":1377}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":1385}},{"source":"../../../src/policies/throttlingRetryPolicy.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":1407}}],"sources":{"../../../src/policies/throttlingRetryPolicy.ts":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  BaseRequestPolicy,\n  RequestPolicy,\n  RequestPolicyOptions,\n  RequestPolicyFactory\n} from \"./requestPolicy\";\nimport { WebResourceLike } from \"../webResource\";\nimport { HttpOperationResponse } from \"../httpOperationResponse\";\nimport { Constants } from \"../util/constants\";\nimport { delay } from \"../util/utils\";\n\ntype ResponseHandler = (\n  httpRequest: WebResourceLike,\n  response: HttpOperationResponse\n) => Promise<HttpOperationResponse>;\nconst StatusCodes = Constants.HttpConstants.StatusCodes;\n\nexport function throttlingRetryPolicy(): RequestPolicyFactory {\n  return {\n    create: (nextPolicy: RequestPolicy, options: RequestPolicyOptions) => {\n      return new ThrottlingRetryPolicy(nextPolicy, options);\n    }\n  };\n}\n\n/**\n * To learn more, please refer to\n * https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-request-limits,\n * https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits and\n * https://docs.microsoft.com/en-us/azure/virtual-machines/troubleshooting/troubleshooting-throttling-errors\n */\nexport class ThrottlingRetryPolicy extends BaseRequestPolicy {\n  private _handleResponse: ResponseHandler;\n\n  constructor(\n    nextPolicy: RequestPolicy,\n    options: RequestPolicyOptions,\n    _handleResponse?: ResponseHandler\n  ) {\n    super(nextPolicy, options);\n    this._handleResponse = _handleResponse || this._defaultResponseHandler;\n  }\n\n  public async sendRequest(httpRequest: WebResourceLike): Promise<HttpOperationResponse> {\n    return this._nextPolicy.sendRequest(httpRequest.clone()).then((response) => {\n      if (response.status !== StatusCodes.TooManyRequests) {\n        return response;\n      } else {\n        return this._handleResponse(httpRequest, response);\n      }\n    });\n  }\n\n  private async _defaultResponseHandler(\n    httpRequest: WebResourceLike,\n    httpResponse: HttpOperationResponse\n  ): Promise<HttpOperationResponse> {\n    const retryAfterHeader: string | undefined = httpResponse.headers.get(\n      Constants.HeaderConstants.RETRY_AFTER\n    );\n\n    if (retryAfterHeader) {\n      const delayInMs: number | undefined = ThrottlingRetryPolicy.parseRetryAfterHeader(\n        retryAfterHeader\n      );\n      if (delayInMs) {\n        return delay(delayInMs).then((_: any) => this._nextPolicy.sendRequest(httpRequest));\n      }\n    }\n\n    return httpResponse;\n  }\n\n  public static parseRetryAfterHeader(headerValue: string): number | undefined {\n    const retryAfterInSeconds = Number(headerValue);\n    if (Number.isNaN(retryAfterInSeconds)) {\n      return ThrottlingRetryPolicy.parseDateRetryAfterHeader(headerValue);\n    } else {\n      return retryAfterInSeconds * 1000;\n    }\n  }\n\n  public static parseDateRetryAfterHeader(headerValue: string): number | undefined {\n    try {\n      const now: number = Date.now();\n      const date: number = Date.parse(headerValue);\n      const diff = date - now;\n\n      return Number.isNaN(diff) ? undefined : diff;\n    } catch (error) {\n      return undefined;\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d85f520e72a62966a0660ce5a980587d","cacheData":{"env":{}}}