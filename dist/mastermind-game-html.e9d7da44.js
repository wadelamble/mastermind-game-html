parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Focm":[function(require,module,exports) {
var e;const t={height:.85*window.innerHeight,width:.95*window.innerWidth};var o=!1;t.height<t.width?t.width=t.height:o=!0;var n=t.width/5,r=n,s=t.width-n-r,a=11,d=n/3,c=.6*d,h=10,u="black",f=t.height/(2*a)*.5,g=t.height/(2*a)*.2,y=[1,1],w=document.createElement("button");w.id="redButton",w.style.backgroundColor="red",w.addEventListener("click",function(){ee()});var m=document.createElement("button");m.id="blueButton",m.style.backgroundColor="blue",m.addEventListener("click",function(){te()});var p=document.createElement("button");p.id="greenButton",p.style.backgroundColor="green",p.addEventListener("click",function(){oe()});var b=document.createElement("button");b.id="yellowButton",b.style.backgroundColor="yellow",b.addEventListener("click",function(){ne()});var x=document.createElement("button");x.id="purpleButton",x.style.backgroundColor="purple",x.addEventListener("click",function(){ie()});var v=document.createElement("button");v.id="whiteButton",v.style.backgroundColor="white",v.addEventListener("click",function(){re()});var S=document.createElement("button");S.id="redGradeButton",S.style.backgroundColor="red",S.addEventListener("click",function(){se()}),whiteGradeButton=document.createElement("button"),whiteGradeButton.id="whiteGradeButton",whiteGradeButton.style.backgroundColor="white",whiteGradeButton.addEventListener("click",function(){ae()});var C=document.createElement("button");C.id="mainButton",C.style.backgroundColor="purple",C.addEventListener("click",function(){mainButtonClick()});var B=document.createElement("button");B.id="doneButton",B.style.backgroundColor="blue",B.addEventListener("click",function(){de()});var E=document.createElement("button");E.id="helpButton",E.style.backgroundColor="purple",E.addEventListener("click",function(){le()});var G=document.createElement("button");G.id="backButton",G.style.backgroundColor="blue",G.addEventListener("click",function(){he()});var O=document.createElement("button");O.id="resetButton",O.style.backgroundColor="grey",O.addEventListener("click",function(){ue()});var L=document.createElement("button");L.id="modeButton",L.style.backgroundColor="black",L.style.border="black",L.addEventListener("click",function(){ce()});var T={codeBreaker:"Breaker",codeMaker:"Maker",value:"Breaker"},I=0,M=[["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"]],P={x:0,y:0},R={reds:0,whites:0},W=[],A=0,H=0;for(colors=["red","blue","green","yellow","purple","white"],posCodes=[],subCode=[],i=0;i<6;i++)for(j=0;j<6;j++)for(k=0;k<6;k++)for(l=0;l<6;l++)subCode=[colors[i],colors[j],colors[k],colors[l]],posCodes.push(subCode);var N=0;if(localStorage.getItem("1")){V=!1;Ce(),currentTV=z.timesVisited,z.timesVisited=currentTV+1,Se()}else{localStorage.setItem("1","test");var V=!0;le();var z={timesVisited:0,gamesPlayed:0,gamesWon:0,averageTries:0,winRate:0,highScore:0};Be()}window.startMenu=function(){J()},window.startGame=function(){D.start()},window.startStatPage=function(){document.getElementById("gamesPlayed").innerHTML="Games played: "+z.gamesPlayed,document.getElementById("gamesWon").innerHTML="Games won: "+z.gamesWon,document.getElementById("winRate").innerHTML="Win Rate: "+z.winRate+"%",document.getElementById("averageTries").innerHTML="Average number of guesses: "+z.averageTries,document.getElementById("highScore").innerHTML="High score (least number of guessses): "+z.highScore};var D={canvas:document.createElement("canvas"),start:function(){this.canvas.setAttribute("id","board"),this.canvas.height=t.height,this.canvas.width=t.width,this.canvas.style.marginLeft=o?"0px":String((window.innerWidth-this.canvas.width)/2)+"px",this.context=this.canvas.getContext("2d"),document.body.insertBefore(this.canvas,document.body.childNodes[0]),we(n,t.height,"#1f1f14",t.width-n,0),Te(),Y(),F(),q(B),K(E),Q(G),X(O),Z(L),U(C),T.value===T.codeBreaker&&Le()},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},reset:function(){R.reds=0,R.whites=0,P.x=0,P.y=0,I=0,M=[["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"],["0","0","0","0"]],N=0,W=[],H=0,this.start()},backCB:function(){4!=P.x&&(M[P.y-1][P.x-1]="0",be(P.x,P.y,"black"),1==P.x?(P.x=4,P.y-=1):P.x-=1)},backCM:function(e){if(e){for(i=0;i<4;i++)xe(i+1,P.y,"black");R.reds=0,R.whites=0}else if(be(N,0,"black"),N-=1,W.pop(),3===N)for(i=0;i<4;i++)be(i+1,1,"black"),M[0]=["0","0","0","0"],P.x=1,P.y=1},resetStats:function(){confirm("Are you sure you want to reset your statistics?")&&(Be(),startStatPage())}};function J(){}function Y(){var e=h;e+=1.5*t.height/a-d/2,$(w,e),e+=t.height/a,$(m,e),e+=t.height/a,$(p,e),e+=t.height/a,$(b,e),e+=t.height/a,$(x,e),e+=t.height/a,$(v,e)}function F(){var e=h+t.height/a*7+1.5*t.height/a-c/2;_(S,e),e+=t.height/a,_(whiteGradeButton,e)}function U(e){var o=h;e.style.position="absolute",e.style.width=String(n-1)+"px",e.style.height=String(t.height/a-1)+"px ",e.style.borderRadius="0px";var i=document.getElementById("board").offsetLeft+s+1;wOffsetStr=i+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,e.textContent=" Main Menu";var r=document.createElement("I");r.classList.add("arrow"),r.classList.add("left"),e.insertBefore(r,e.childNodes[0]),e.style.color="white",document.body.appendChild(e)}function q(e){var o=h+t.height/a*10-1;e.style.position="absolute",e.style.width=String(n-1)+"px",e.style.height=String(t.height/a-1)+"px ",e.style.borderRadius="0px";var i=document.getElementById("board").offsetLeft+s+r+1;wOffsetStr=i+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,e.textContent="Done",e.style.color="white",document.body.appendChild(e)}function K(e){var o=h+t.height/a*11-1;e.style.position="absolute",e.style.width=String((s+r)/3-1)+"px",e.style.height=String(t.height/a-1)+"px ",e.style.borderRadius="0px";var n=document.getElementById("board").offsetLeft;wOffsetStr=n+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,e.textContent="Help",e.style.color="white",document.body.appendChild(e)}function Q(e){var o=h+t.height/a*11-1;e.style.position="absolute",e.style.width=String((s+r)/3-1)+"px",e.style.height=String(t.height/a-1)+"px ",e.style.borderRadius="0px";var n=document.getElementById("board").offsetLeft;wOffsetStr=n+(s+r)/3+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,e.textContent="Back",e.style.color="white",document.body.appendChild(e)}function X(e){var o=h+t.height/a*11-1;e.style.position="absolute",e.style.width=String((s+r)/3-1)+"px",e.style.height=String(t.height/a-1)+"px ",e.style.borderRadius="0px";var n=document.getElementById("board").offsetLeft;wOffsetStr=n+2*((s+r)/3)+1+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,e.textContent="Reset",e.style.color="white",document.body.appendChild(e)}function Z(e){var o=h+t.height/a*11-1;e.style.position="absolute",e.style.width=String(n-1)+"px",e.style.height=String(t.height/a-1)+"px ",e.style.borderRadius="0px";var i=document.getElementById("board").offsetLeft+s+r+1;wOffsetStr=i+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,e.textContent=T.value,e.style.color="grey",document.body.appendChild(e)}function $(e,o){var i=d+"px";e.style.position="absolute",e.style.borderRadius="100%",e.style.width=i,e.style.height=i;var r=document.getElementById("board").offsetLeft;r+=t.width-n/2-d/2,wOffsetStr=r+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,document.body.appendChild(e)}function _(e,o){var i=d/2+"px";e.style.position="absolute",e.style.borderRadius="100%",e.style.width=i,e.style.height=i;var r=document.getElementById("board").offsetLeft;r+=t.width-n/2-c/2,wOffsetStr=r+"px",hOffsetStr=o+"px",e.style.top=hOffsetStr,e.style.left=wOffsetStr,document.body.appendChild(e)}function ee(){fe(w.style.backgroundColor)}function te(){fe(m.style.backgroundColor)}function oe(){fe(p.style.backgroundColor)}function ne(){fe(b.style.backgroundColor)}function ie(){fe(x.style.backgroundColor)}function re(){fe(v.style.backgroundColor)}function se(){ge(S.style.backgroundColor)}function ae(){ge(whiteGradeButton.style.backgroundColor)}function de(){if(T.value==T.codeMaker&&W!=[])for(index=0;index<10;index++)if(row=M[index],row.includes("0")){H=index;break}realGrade=[R.reds,R.whites],je(M[H-1],W),R.reds==realGrade[0]&&R.whites==realGrade[1]||(alert("hmm. check your work..."),R.reds=realGrade[0],R.whites=realGrade[1]),Oe(H)}function ce(){T.value===T.codeBreaker?T.value=T.codeMaker:T.value=T.codeBreaker,document.getElementById("modeButton").textContent=T.value,D.reset(),T.value===T.codeBreaker&&Le()}function le(){alert('Welcome to Mastermind. Attempt to guess the secret code or create a secret code for the computer to guess.\n\nTo guess or grade, use the buttons on the right-hand side of the game board. To change play mode, click the "Maker/Breaker" button in the lower right corner of the game board.\nA red grade peg indicates that a guess is the correct color in the correct position. A white grade peg indicates that a guess is the correct color, but in the incorrect position. ')}function he(){T.value==T.codeMaker?D.backCM():D.backCB()}function ue(){D.reset()}function fe(e){if(T.value===T.codeBreaker)if(ye(),be(P.x,P.y,e),M[P.y-1][P.x-1]=e,P.x<4);else{H=P.y-1,toBeGraded=M[H],je(toBeGraded,W);var t=P.y,o=0;for(i=1;i<=R.reds;i++)xe(++o,t,"red");for(i=1;i<=R.whites;i++)xe(++o,t,"white");4===R.reds?(newHighScore=Ee(!0,P.y),ve(),setTimeout(function(){for(msg="Congratulations, you won! \n",newHighScore&&(msg+="New high score: "+z.highScore+"! \n"),msg+="Play again?",j=0;j<4;j++)be(j+1,0,W[j]);confirm(msg)&&D.reset()},2500)):10===P.y&&(Ee(!1,10),ke(),setTimeout(function(){alert("Nice try :(")},1500))}else N<4?(be(N+=1,0,e),W.push(e),4===N&&Oe(0)):alert("You are the code maker, you can't try to crack your own code.")}function ge(e){T.value==T.codeMaker?++A>4?alert("too many player grades entered"):("red"===e?R.reds++:"white"===e&&R.whites++,xe(A,P.y,e)):alert("You are the code breaker, you can't grade your own guess.")}function ye(){for(i=0;i<10;i++)for(j=0;j<4;j++)if("0"===M[i][j])return P.x=j+1,void(P.y=i+1)}function we(e,t,o,n,i){this.width=e,this.height=t,this.x=n,this.y=i,ctx=D.context,ctx.fillStyle=o,ctx.fillRect(this.x,this.y,this.width,this.height)}function me(e,t,o,n){this.r=e,this.x=o,this.y=n,ctx=D.context,ctx.fillStyle=t,ctx.beginPath(),ctx.arc(this.x,this.y,this.r,0,2*Math.PI),ctx.fill()}function pe(e,t,o,i){ctx=D.context,ctx.font=e,ctx.textAlign="center",ctx.fillStyle="white",ctx.fillText(t,o,i,.8*n)}function be(e,o,n){this.x=e*s/5,this.y=o*t.height/a+t.height/(2*a),me(f,n,this.x,this.y)}function xe(e,o,n){this.x=s+e*r/5,this.y=o*t.height/a+t.height/(2*a),me(g,n,this.x,this.y)}function ve(){var e=0,t=setInterval(function(){if(++e%2==1)for(j=0;j<4;j++)be(j+1,0,W[j]);else for(j=0;j<4;j++)be(j+1,0,"black");20==e&&clearInterval(t)},100)}function ke(){var e=0,t=setInterval(function(){if(5==++e)clearInterval(t);else for(j=0;j<4;j++)color=colors[Math.floor(6*Math.random())],be(j+1,0,color)},200);setTimeout(function(){for(j=0;j<4;j++)be(j+1,0,W[j])},1e3)}function Se(){statsStr=JSON.stringify(z),localStorage.setItem("stats",statsStr)}function Ce(){statsStr=localStorage.getItem("stats"),null==(z=JSON.parse(statsStr))&&alert("Error 123: Coding fail")}function Be(){z.highScore=10,z.gamesPlayed=0,z.gamesWon=0,z.winRate=0,z.averageTries=0,z.timesVisited=1,Se()}function Ee(e,t){return Ce(),t<z.highScore?(z.highScore=t,newHighScore=!0):newHighScore=!1,currentGP=z.gamesPlayed,newGP=currentGP+1,z.gamesPlayed=newGP,e&&(currentGW=z.gamesWon,newGW=currentGW+1,z.gamesWon=newGW),newWR=100*Math.floor(newGW/newGP),z.winRate=newWR,currentAT=z.averageTries,currentTotalPoints=currentAT*currentGP,newTotalPoints=currentTotalPoints+t,newAT=newTotalPoints/z.gamesPlayed,z.averageTries=newAT,Se(),newHighScore}function je(e,t){e.includes("0")&&alert("Error 123: Coding Fail"),R.reds=0,R.whites=0;const o=[],n=[];for(i=0;i<4;i++)t[i]===e[i]?R.reds++:(o.push(e[i]),n.push(t[i]));for(;0!==o.length;)n.includes(o[0])&&(R.whites++,toRemoveIndex=n.indexOf(o[0]),n.splice(toRemoveIndex,1)),o.splice(0,1)}function Ge(e,t){var o=[];for(realGrade=[R.reds,R.whites],index=0;index<e.length;index++)posCode=e[index],je(t,posCode),R.reds==realGrade[0]&&R.whites==realGrade[1]&&o.push(posCode);return e=o,R.reds=realGrade[0],R.whites=realGrade[1],e}function Oe(e){if(0===e)guess=["yellow","green","blue","white"];else{if(4===R.reds)return alert("Computer Wins!!!"),void D.reset();posCodes=Ge(posCodes,M[e-1]),len=posCodes.length,0===len&&alert("hmm. check your work..."),guess=posCodes[len-1]}for(index=0;index<4;index++)be(index+1,e+1,guess[index]);M[e]=guess,P.y++,A=0,R.reds=0,R.whites=0}function Le(){for(W=[],i=0;i<4;i++)W.push(colors[Math.floor(6*Math.random())])}function Te(){var e=[1,7,8,10];for(i=1;i<a;i++)this.y=i*t.height/a,e.includes(i)?we(t.width,1,"black",0,this.y):we(t.width-n,1,"black",0,this.y);for(we(1,t.height,"black",s,0),we(1,t.height,"black",s+r,0),we(s,t.height/a,"#331a00",0,0),we(r-1,t.height/a,"331a00",s+1,0),this.guessr=t.height/(2*a)*.5,this.grader=t.height/(2*a)*.2,i=0;i<a;i++)for(this.y=i*t.height/a+t.height/(2*a),j=1;j<5;j++)this.x=j*s/5,me(this.guessr,"black",this.x,this.y),0!==i&&(this.x=s+j*r/5,me(this.grader,"black",this.x,this.y));this.fontSize=t.height/a*.4,this.fontString=fontSize+"px Arial",pe(this.fontString,"GUESSES",s+1.5*r,t.height/(2*a)+fontSize/2),pe(this.fontString,"GRADES",s+1.5*r,t.height-3*t.height/a-fontSize)}window.mainButtonClick=function(){window.location.href="index.html"},window.resetStatClick=function(){D.resetStats()},window.settingsButtonClick=function(){alert("coming soon")};
},{}]},{},["Focm"], null)
//# sourceMappingURL=/mastermind-game-html.e9d7da44.js.map